@using SWP.UI.Components.LegalSwpBlazorComponents.CasesInnerComponents 
@inject GeneralViewModel generalViewModel

<h2>Sprawy</h2>

@if (App.ActiveClientWithData != null)
{
    <RadzenButton Click="@(() => App.CasesPage.SetActivePanel(CasesPage.Panels.AddCase))" Text="Dodaj Nową Sprawę" Style="margin-bottom: 20px;" />
    <RadzenButton Click="@(() => App.CasesPage.SetActivePanel(CasesPage.Panels.Admin))" Text="Zarządzaj Sprawami" Style="margin-bottom: 20px;" />
}

@if (App.Loading)
{

}
else
{
    switch (App.CasesPage.ActivePanel)
    {
        case CasesPage.Panels.Admin:
            <h2>Panel Administracyjny</h2>
            <h2>Zarządzaj sprawami klienta: (@App.ActiveClientWithData.Name)</h2>

            <RadzenDialog />
            <RadzenNotification />
            <AdminCase @bind-App="App"></AdminCase>
            break;
        case CasesPage.Panels.AddCase:
            <AddCase @bind-App="App"></AddCase>       
            break;
        default:
            break;
    }
}

@code {
    [Parameter]
    public LegalBlazorApp App { get; set; }
    [Parameter]
    public EventCallback<LegalBlazorApp> AppChanged { get; set; }
}
