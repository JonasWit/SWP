@if (!initializing)
{
    @if (App.User.Profile != null)
    {
        <div id="grid-container-2">
            <div id="sidebar">
                <div class="text-center">
                    <img class="mt-4 mb-4" src="/Images/icons8-courthouse-80.png" />
                </div>
                <p class="explain px-3">Wybierz Klienta by zobaczyc jego sprawy</p>
                <div class="input-group">
                    <Radzen.Blazor.RadzenDropDown AllowClear="true" TValue="string" AllowFiltering="true" Data="@App.Clients" @bind-Value="App.SelectedClientString" TextProperty="Name" ValueProperty="IdString" Style="margin-bottom: 20px; width: 190px;" Change="@(args => App.ActiveClientChange(args))" />
                </div>

                <ul class="nav flex-column">
                    <li class="nav-item @(App.ActivePanel == LegalBlazorApp.Panels.MyApp ? "active" : "")">
                        <a class="nav-link " @onclick="@(() => App.SetActivePanel(LegalBlazorApp.Panels.MyApp))">
                            <i><img src="/Images/icons8-web-design-36.png" /></i> Moja Aplikacja
                        </a>
                    </li>
                    <li class="nav-item @(App.ActivePanel == LegalBlazorApp.Panels.Clients ? "active" : "") ">
                        <a class="nav-link " @onclick="@(() => App.SetActivePanel(LegalBlazorApp.Panels.Clients))">
                            <i><img src="/Images/icons8-reception-36.png" /></i> Klienci
                        </a>
                    </li>
                    <li class="nav-item @(App.ActivePanel == LegalBlazorApp.Panels.Calendar ? "active" : "") ">
                        <a class="nav-link " @onclick="@(() => App.SetActivePanel(LegalBlazorApp.Panels.Calendar))">
                            <i><img src="/Images/icons8-calendar-12-36.png" /></i> Kalendarz
                        </a>
                    </li>
                    <li class="nav-item @(App.ActivePanel == LegalBlazorApp.Panels.ErrorPage ? "active" : "") ">
                        <a class="nav-link " @onclick="@(() => App.SetActivePanel(LegalBlazorApp.Panels.ErrorPage))">
                            Error Page For TESTS!
                        </a>
                    </li>

                    @if (App.ActiveClientWithData != null)
                    {
                        <li class="nav-item @(App.ActivePanel == LegalBlazorApp.Panels.ClientDetails ? "active" : "")">
                            <a class="nav-link " @onclick="@(() => App.SetActivePanel(LegalBlazorApp.Panels.ClientDetails))">
                                <i><img src="/Images/icons8-address-book-40.png" /></i> Lista Kontaktów
                            </a>
                        </li>
                        <li class="nav-item @(App.ActivePanel == LegalBlazorApp.Panels.ClientJobs ? "active" : "") ">
                            <a class="nav-link " @onclick="@(() => App.SetActivePanel(LegalBlazorApp.Panels.ClientJobs))">
                                <i><img src="/Images/icons8-combo-chart-36.png" /></i> Lista Zadań
                            </a>
                        </li>
                        <li class="nav-item @(App.ActivePanel == LegalBlazorApp.Panels.Cases ? "active" : "") ">
                            <a class="nav-link " @onclick="@(() => App.SetActivePanel(LegalBlazorApp.Panels.Cases))">
                                <i><img src="/Images/icons8-business-report-36.png" /></i> Sprawy
                            </a>
                        </li>
                        <li class="nav-item @(App.ActivePanel == LegalBlazorApp.Panels.Finance ? "active" : "") ">
                            <a class="nav-link " @onclick="@(() => App.SetActivePanel(LegalBlazorApp.Panels.Finance))">
                                <i><img src="/Images/icons8-money-box-36.png" /></i> Finanse
                            </a>
                        </li>
                        <li class="nav-item @(App.ActivePanel == LegalBlazorApp.Panels.Productivity ? "active" : "")">
                            <a class="nav-link " @onclick="@(() => App.SetActivePanel(LegalBlazorApp.Panels.Productivity))">
                                <i><img src="/Images/icons8-combo-chart-36.png" /></i> Produktywność
                            </a>
                        </li>
                    }

                    <li class="nav-item @(App.ActivePanel == LegalBlazorApp.Panels.Archive ? "active" : "")">
                        <a class="nav-link " @onclick="@(() => App.SetActivePanel(LegalBlazorApp.Panels.Archive))">
                            <i><img src="/Images/icons8-calendar-12-36.png" /></i> Archiwum
                        </a>
                    </li>
                </ul>
            </div>

            <div id="top-menu">
                <ul>
                    <li class="user"><a href="/Index"><img src="/Images/icons8-exit-36.png" /></a></li>
                    <li class="user"><p><strong>Użytkownik:</strong> @App.User.UserName</p></li>
                    <li class="user"><p><strong>Profil:</strong> @App.User.Profile</p></li>
                    <li class="user"><p><strong>Aktywny Klient:</strong> @(App.ActiveClient != null ? App.ActiveClient.Name : "Brak Aktywnego Klienta" )</p></li>
                </ul>
            </div>
            <div id="main-window">
                <RadzenDialog />
                <RadzenTooltip />
                <RadzenNotification />
                @if (!App.Loading)
                {
                    @switch (App.ActivePanel)
                    {
                        case LegalBlazorApp.Panels.Clients:
                            <LegalSwpClients />
                            break;
                        case LegalBlazorApp.Panels.Calendar:
                            <LegalSwpCalendar />
                            break;
                        case LegalBlazorApp.Panels.Cases:
                            <LegalSwpCases />
                            break;
                        case LegalBlazorApp.Panels.MyApp:
                            <LegalSwpMyApp />
                            break;
                        case LegalBlazorApp.Panels.ErrorPage:
                            <LegalSwpError />
                            break;
                        case LegalBlazorApp.Panels.Finance:
                            <LegalSwpFinance />
                            break;
                        case LegalBlazorApp.Panels.Productivity:
                            <LegalSwpProductivity />
                            break;
                        case LegalBlazorApp.Panels.ClientJobs:
                            <LegalSwpClientJobs />
                            break;
                        case LegalBlazorApp.Panels.Archive:
                            <LegalSwpArchive />
                            break;
                        case LegalBlazorApp.Panels.ClientDetails:
                            <LegalSwpClientDetails />
                            break;
                        default:
                            <LegalSwpMyApp />
                            break;
                    }
                }
                else
                {
                    <LoaderComponent @bind-Message="App.LoadingMessage"></LoaderComponent>
                }
            </div>


        </div>
    }
    else
    {
        <LegalSwpNoProfileWarning />
    }
}
else
{
    <LoaderComponent Message="@("Odpalanie Aplikacji...")"></LoaderComponent>
}
