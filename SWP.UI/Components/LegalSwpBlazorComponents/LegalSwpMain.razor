@if (!initializing)
{
    @if (App.User.Profile != null)
    {
        <div id="grid-container-2">
            <nav class="sidebar @(!showFormVisible ? "sidebar-add" : "")">
                <ul class="navigation">
                    <li class="logo">
                        <button class="@(showFormVisible ? "link-text-add" : "")" @onclick="ShowHideForm"><img src="/Images/icons8-double-right-40.png" /></button>
                    </li>

                        <li class="logo">
                            <span class="logo-text">Kancelaria</span>
                        </li>

                        <li class="nav-item ">
                            <a class="nav-link @(App.ActivePanel == LegalBlazorApp.Panels.MyApp ? "active" : "") " @onclick="@(() => App.SetActivePanel(LegalBlazorApp.Panels.MyApp))">
                                <i><img src="/Images/icons8-web-design-36.png" /></i> <span class="link-text">Moja Aplikacja</span>
                            </a>
                        </li>
                        <li class="nav-item  ">
                            <a class="nav-link @(App.ActivePanel == LegalBlazorApp.Panels.Clients ? "active" : "") " @onclick="@(() => App.SetActivePanel(LegalBlazorApp.Panels.Clients))">
                                <i><img src="/Images/icons8-reception-36.png" /></i> <span class="link-text">Klienci</span>
                            </a>
                        </li>
                        <li class="nav-item  ">
                            <a class="nav-link @(App.ActivePanel == LegalBlazorApp.Panels.Calendar ? "active" : "")" @onclick="@(() => App.SetActivePanel(LegalBlazorApp.Panels.Calendar))">
                                <i><img src="/Images/icons8-calendar-12-36.png" /></i> <span class="link-text">Kalendarz</span>
                            </a>
                        </li>
                        <li class="nav-item ">
                            <a class="nav-link @(App.ActivePanel == LegalBlazorApp.Panels.ErrorPage ? "active" : "") " @onclick="@(() => App.SetActivePanel(LegalBlazorApp.Panels.ErrorPage))">
                                <span class="link-text">
                                    Error Page For TESTS!
                                </span>
                            </a>
                        </li>

                        @if (App.ActiveClientWithData != null)
                        {
                            <li class="nav-item ">
                                <a class="nav-link @(App.ActivePanel == LegalBlazorApp.Panels.ClientDetails ? "active" : "")" @onclick="@(() => App.SetActivePanel(LegalBlazorApp.Panels.ClientDetails))">
                                    <i><img src="/Images/icons8-address-book-40.png" /></i><span class="link-text"> Lista Kontaktów</span>
                                </a>
                            </li>
                            <li class="nav-item ">
                                <a class="nav-link @(App.ActivePanel == LegalBlazorApp.Panels.ClientJobs ? "active" : "") " @onclick="@(() => App.SetActivePanel(LegalBlazorApp.Panels.ClientJobs))">
                                    <i><img src="/Images/icons8-combo-chart-36.png" /></i> <span class="link-text">Lista Zadań</span>
                                </a>
                            </li>
                            <li class="nav-item  ">
                                <a class="nav-link @(App.ActivePanel == LegalBlazorApp.Panels.Cases ? "active" : "")" @onclick="@(() => App.SetActivePanel(LegalBlazorApp.Panels.Cases))">
                                    <i><img src="/Images/icons8-business-report-36.png" /></i><span class="link-text"> Sprawy</span>
                                </a>
                            </li>
                            <li class="nav-item ">
                                <a class="nav-link @(App.ActivePanel == LegalBlazorApp.Panels.Finance ? "active" : "") " @onclick="@(() => App.SetActivePanel(LegalBlazorApp.Panels.Finance))">
                                    <i><img src="/Images/icons8-money-box-36.png" /></i><span class="link-text"> Finanse</span>
                                </a>
                            </li>
                            <li class="nav-item ">
                                <a class="nav-link @(App.ActivePanel == LegalBlazorApp.Panels.Productivity ? "active" : "")" @onclick="@(() => App.SetActivePanel(LegalBlazorApp.Panels.Productivity))">
                                    <i><img src="/Images/icons8-combo-chart-36.png" /></i> <span class="link-text">Produktywność</span>
                                </a>
                            </li>
                        }

                        <li class="nav-item ">
                            <a class="nav-link @(App.ActivePanel == LegalBlazorApp.Panels.Archive ? "active" : "")" @onclick="@(() => App.SetActivePanel(LegalBlazorApp.Panels.Archive))">
                                <i><img src="/Images/icons8-calendar-12-36.png" /></i><span class="link-text"> Archiwum</span>
                            </a>
                        </li>
                </ul>

            </nav>

            <div id="top-menu">
                <ul class="top-items">
                    <li class="user input">
                        <p>
                            <strong>Wybierz Klienta:</strong>
                            <Radzen.Blazor.RadzenDropDown AllowClear="true" TValue="string" AllowFiltering="true" Data="@App.Clients" @bind-Value="App.SelectedClientString" TextProperty="Name" ValueProperty="IdString" Change="@(args => App.ActiveClientChange(args))" Style="width: 200px;" />
                        </p>

                    </li>
                    <li class="user"><p><strong>Aktywny Klient:</strong> @(App.ActiveClient != null ? App.ActiveClient.Name : "Brak Aktywnego Klienta" )</p></li>
                    <li class="user"><p><strong>Użytkownik:</strong> @App.User.UserName</p></li>
                    <li class="user"><p><strong>Profil:</strong> @App.User.Profile</p></li>

                    <li class="user"><a href="/Index"><img src="/Images/icons8-exit-36.png" /></a></li>
                </ul>
            </div>

            <div id="main-window">
                <RadzenDialog />
                <RadzenTooltip />
                <RadzenNotification />
                @if (!App.Loading)
                {
                    @switch (App.ActivePanel)
                    {
                        case LegalBlazorApp.Panels.Clients:
                            <LegalSwpClients />
                            break;
                        case LegalBlazorApp.Panels.Calendar:
                            <LegalSwpCalendar />
                            break;
                        case LegalBlazorApp.Panels.Cases:
                            <LegalSwpCases />
                            break;
                        case LegalBlazorApp.Panels.MyApp:
                            <LegalSwpMyApp />
                            break;
                        case LegalBlazorApp.Panels.ErrorPage:
                            <LegalSwpError />
                            break;
                        case LegalBlazorApp.Panels.Finance:
                            <LegalSwpFinance />
                            break;
                        case LegalBlazorApp.Panels.Productivity:
                            <LegalSwpProductivity />
                            break;
                        case LegalBlazorApp.Panels.ClientJobs:
                            <LegalSwpClientJobs />
                            break;
                        case LegalBlazorApp.Panels.Archive:
                            <LegalSwpArchive />
                            break;
                        case LegalBlazorApp.Panels.ClientDetails:
                            <LegalSwpClientDetails />
                            break;
                        default:
                            <LegalSwpMyApp />
                            break;
                    }
                }
                else
                {
                    <LoaderComponent @bind-Message="App.LoadingMessage"></LoaderComponent>
                }
            </div>


        </div>
    }
    else
    {
        <LegalSwpNoProfileWarning />
    }
}
else
{
    <LoaderComponent Message="@("Odpalanie Aplikacji...")"></LoaderComponent>
}
