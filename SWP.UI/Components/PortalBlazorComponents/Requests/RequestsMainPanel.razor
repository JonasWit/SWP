@using BlazorApp.PortalApp.Stores.Requests.RequestsPanel

@* Główny Komponent *@

@if (Store.GetState().CurrentComponent != RequestsMainPanelState.InnerComponents.Info)
{
    <RadzenButton ButtonStyle="ButtonStyle.Secondary" Click="ActivateHelpPanel"><img class="r-btn" src="/Images/icons8-double-left-24 (1).png" />Wróć</RadzenButton>
}

<div class="row pt-4">
    <div class="col-md-8">
        @switch (Store.GetState().CurrentComponent)
        {
            case RequestsMainPanelState.InnerComponents.Info:
                <Info />
                break;
            case RequestsMainPanelState.InnerComponents.Create:
                <RequestCreate />
                break;
            case RequestsMainPanelState.InnerComponents.Details:
                <RequestDetails />
                break;
            default:
                break;
        }
    </div>
    <div class="col-md-4">
        <RadzenCard>
            <p>Lista z boku</p>
            <RadzenDataList WrapItems="true" AllowPaging="true" Data="@Store.GetState().Requests" TItem="RequestViewModel" PageSize="5">
                <Template Context="request">
                    <RadzenCard Style="width:300px;">
                        <div class="row" @onclick="@(() => ReuqestSelected(request.Id))">
                            <p>@($"Utworzono: {@request.Created.ToString("yyyy.MM.dd HH:mm")}")</p>
                            <p>@($"Ostatnia zmiana: {@request.Updated.ToString("yyyy.MM.dd HH:mm")}")</p>
                            <p>@($"Temat: {request.DisplaySubject}")</p>
                            <p>@($"Status: {request.DisplayStatus}")</p>
                        </div>
                    </RadzenCard>
                </Template>
            </RadzenDataList>
        </RadzenCard>
    </div>
</div>




